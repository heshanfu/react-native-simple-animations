{"version":3,"sources":["../src/simple-animation.js"],"names":["SimpleAnimation","props","opacityAnimation","Animated","Value","movementAnimation","staticAnimation","animate","animateOnUpdate","direction","distance","DIRECTIONS","DOWN","LEFT","RIGHT","UP","fade","opacity","movementType","outputRangeStartValue","getDistanceStartValue","interpolatedAnimation","interpolate","inputRange","outputRange","transform","translateX","translateY","staticType","scale","movementTransform","getMovementTransform","staticTransform","getStaticTransform","concat","aim","fromValue","AIMS","IN","toValue","getTimingAnimation","setValue","animation","start","MOVEMENT_TYPES","SPRING","getSpringAnimation","STATIC_TYPES","BOUNCE","children","style","viewStyles","getTransform","getOpacity","Component","PROP_TYPES","DEFAULT_PROPS"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getSpringAnimation, getTimingAnimation } from './util/get-animation';\n\nimport { AIMS } from './constants/aims';\nimport { Animated } from 'react-native';\nimport { DEFAULT_PROPS } from './constants/default-props';\nimport { DIRECTIONS } from './constants/directions';\nimport { MOVEMENT_TYPES } from './constants/movement-types';\nimport { PROP_TYPES } from './constants/prop-types';\nimport { STATIC_TYPES } from './constants/static-types';\n\nexport class SimpleAnimation extends Component {\n  static propTypes = PROP_TYPES;\n\n  static defaultProps = DEFAULT_PROPS;\n\n  constructor(props) {\n    super(props);\n\n    this.opacityAnimation = new Animated.Value(0);\n    this.movementAnimation = new Animated.Value(0);\n    this.staticAnimation = new Animated.Value(0);\n  }\n\n  componentDidMount() {\n    this.animate();\n  }\n\n  componentDidUpdate() {\n    const { animateOnUpdate } = this.props;\n    if (animateOnUpdate) this.animate();\n  }\n\n  getDistanceStartValue() {\n    const { direction, distance } = this.props;\n\n    switch (direction) {\n      case DIRECTIONS.DOWN:\n        return -distance;\n      case DIRECTIONS.LEFT:\n        return distance;\n      case DIRECTIONS.RIGHT:\n        return -distance;\n      case DIRECTIONS.UP:\n        return distance;\n\n      default:\n        return 0;\n    }\n  }\n\n  getOpacity() {\n    const { fade } = this.props;\n\n    if (!fade) return {};\n    return { opacity: this.opacityAnimation };\n  }\n\n  getMovementTransform() {\n    const { direction, movementType } = this.props;\n\n    if (!direction || !movementType) return [];\n\n    const outputRangeStartValue = this.getDistanceStartValue();\n\n    const interpolatedAnimation = this.movementAnimation.interpolate({\n      inputRange: [0, 1],\n      outputRange: [outputRangeStartValue, 0]\n    });\n\n    const transform = [\n      direction === DIRECTIONS.LEFT || direction === DIRECTIONS.RIGHT\n        ? { translateX: interpolatedAnimation }\n        : { translateY: interpolatedAnimation }\n    ];\n\n    return transform;\n  }\n\n  getStaticTransform() {\n    const { staticType } = this.props;\n\n    if (!staticType) return [];\n    return [{ scale: this.staticAnimation }];\n  }\n\n  getTransform() {\n    const movementTransform = this.getMovementTransform();\n    const staticTransform = this.getStaticTransform();\n\n    const transform = [].concat(movementTransform, staticTransform);\n\n    return { transform };\n  }\n\n  animate() {\n    const { aim, animate, fade, movementType, staticType } = this.props;\n\n    if (!animate) return;\n\n    const fromValue = aim === AIMS.IN ? 0 : 1;\n    const toValue = aim === AIMS.IN ? 1 : 0;\n\n    if (fade) {\n      const opacityAnimation = getTimingAnimation;\n      this.opacityAnimation.setValue(fromValue);\n      opacityAnimation({ animation: this.opacityAnimation, toValue, ...this.props }).start();\n    }\n\n    if (movementType) {\n      const movementAnimation = movementType === MOVEMENT_TYPES.SPRING ? getSpringAnimation : getTimingAnimation;\n      this.movementAnimation.setValue(fromValue);\n      movementAnimation({ animation: this.movementAnimation, toValue, ...this.props }).start();\n    }\n\n    if (staticType) {\n      const staticAnimation = staticType === STATIC_TYPES.BOUNCE ? getSpringAnimation : getTimingAnimation;\n      this.staticAnimation.setValue(fromValue);\n      staticAnimation({ animation: this.staticAnimation, toValue, ...this.props }).start();\n    }\n  }\n\n  render() {\n    const { children, style } = this.props;\n\n    if (!children) return null;\n\n    const viewStyles = [style, this.getTransform(), this.getOpacity()];\n\n    return <Animated.View style={viewStyles}>{children}</Animated.View>;\n  }\n}\n"],"file":"simple-animation.js"}